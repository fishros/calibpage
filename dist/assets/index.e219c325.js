var k=Object.defineProperty;var g=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var y=(e,t,u)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[t]=u,E=(e,t)=>{for(var u in t||(t={}))b.call(t,u)&&y(e,u,t[u]);if(g)for(var u of g(t))B.call(t,u)&&y(e,u,t[u]);return e};var F=(e,t)=>{var u={};for(var o in e)b.call(e,o)&&t.indexOf(o)<0&&(u[o]=e[o]);if(e!=null&&g)for(var o of g(e))t.indexOf(o)<0&&B.call(e,o)&&(u[o]=e[o]);return u};import{l as O,d as A,r as j,a as w,o as U,E as T,b as q,c as z,e as I,f as L,g as P,h as H,i as M,j as n,w as i,k as v,m as R,n as V,p as C,q as J,s as G,t as K,u as Q,v as W}from"./vendor.bd79d6ad.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function u(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=u(r);fetch(r.href,a)}};X();const Y="/calib",h=async(e,o={})=>{var r=o,{data:t}=r,u=F(r,["data"]);const a=E({method:"GET"},u);return a.method.toUpperCase()==="GET"?(e+=`?${O.stringify(t)}`,console.log("endponit",e)):a.body=JSON.stringify(t||{}),window.fetch(`${Y}/${e}`,a).then(async m=>{const s=await m.json();return m.ok?s.data:Promise.reject(s)})},Z=e=>{let t="";try{t=JSON.stringify(e)}catch(u){console.warn(u)}return t},ee=e=>{let t;try{t=JSON.parse(e)}catch(u){console.warn(u)}return t},te=(e,t)=>{window.localStorage.setItem(e,Z(t))},x=e=>{const t=window.localStorage.getItem(e);return ee(t||"")},oe=()=>{var u;let e="",t="";return e=window.location.href,t=(u=e==null?void 0:e.split("?")[1])==null?void 0:u.split("=")[1],t};var D=(e,t)=>{const u=e.__vccOpts||e;for(const[o,r]of t)u[o]=r;return u};const ue=A({name:"Home",setup(){let e,t=oe();const u=j(),o=w({username:"",github:"",originText:"",latestText:"",newText:"",email:""}),r=w({username:[{min:3,max:25,message:"\u6635\u79F0\u957F\u5EA6\u9700\u8981\u4E3A3\u523025\u4E4B\u95F4",trigger:"blur"}],github:[{required:!0,message:"github \u4E3B\u9875\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],newText:[{required:!0,message:"\u7FFB\u8BD1\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],email:[{required:!0,message:"",trigger:"blur"}]}),a=async()=>{if(t){const s=x("tw");await h("next_msg",{data:{msgid:t}}).then(l=>{if(o.originText=l[0].msgen,o.latestText=l[0].msgzh,o.newText=l[0].msgzh,t=l[0].msgid,s){const{name:d,github:f,email:p}=s;o.username=d,o.github=f,o.email=p}})}};return U(async()=>{const s=x("tw");t?await h("get_msg",{data:{msgid:t},method:"post"}).then(l=>{if(o.originText=l[0].msgen,o.latestText=l[0].msgzh,o.newText=l[0].msgzh,s){const{name:d,github:f,email:p}=s;o.username=d,o.github=f,o.email=p}}):T.info("\u8BF7\u4ECE Nav2 \u4E2D\u6587\u7F51\u9875\u9762\u8FDB\u5165")}),{form:o,submitForm:()=>{u.value.validate(s=>{if(s){const d={calibmsg:o.newText,msgid:t,name:o.username,github:o.github,email:o.email};h("calib_msg",{data:d,method:"POST"}).then(f=>{console.log(f,"submitForm"),v({message:"\u63D0\u4EA4\u6210\u529F\uFF0C\u68D2\u68D2\u54D2\uFF01",type:"success"});const _=d,{calibmsg:p,msgid:c}=_,$=F(_,["calibmsg","msgid"]);te("tw",$)}).catch(f=>{v.error(f)})}else T({title:"Error",message:"This is an error message",type:"error"})})},data:e,rules:r,getNextMsg:a,formRef:u}}}),re={class:"container"},ne=R("h2",{class:"title"},"\u3000\u6B22\u8FCE\u52A0\u5165 \u9C7C\u9999ROS\u3000\u7FFB\u8BD1\u7EC4\u7EC7\u3000",-1),ae=C("\u63D0\u4EA4"),se=C("\u4E0B\u4E00\u6761");function le(e,t,u,o,r,a){const m=q,s=z,l=I,d=L,f=P,p=H;return V(),M("div",re,[ne,n(m),n(p,{ref:"formRef",model:e.form,"label-width":"auto",rules:e.rules},{default:i(()=>[n(m,{justify:"center",align:"center"},{default:i(()=>[n(d,{span:8},{default:i(()=>[n(l,{label:"\u6635\u79F0\uFF1A",prop:"username"},{default:i(()=>[n(s,{modelValue:e.form.username,"onUpdate:modelValue":t[0]||(t[0]=c=>e.form.username=c),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u6635\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),n(d,{span:8},{default:i(()=>[n(l,{label:"github\u4E3B\u9875\uFF1A",prop:"github"},{default:i(()=>[n(s,{modelValue:e.form.github,"onUpdate:modelValue":t[1]||(t[1]=c=>e.form.github=c),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684github\u4E3B\u9875\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1}),n(d,{span:8},{default:i(()=>[n(l,{label:"\u90AE\u7BB1\uFF1A",prop:"email"},{default:i(()=>[n(s,{modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=c=>e.form.email=c),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(l,{label:"\u539F\u6587\u5185\u5BB9\uFF1A"},{default:i(()=>[n(s,{modelValue:e.form.originText,"onUpdate:modelValue":t[3]||(t[3]=c=>e.form.originText=c),type:"textarea",readonly:"",autosize:""},null,8,["modelValue"])]),_:1}),n(l,{label:"\u4E0A\u4E00\u7248\u672C\u7FFB\u8BD1\u5185\u5BB9\uFF1A"},{default:i(()=>[n(s,{modelValue:e.form.latestText,"onUpdate:modelValue":t[4]||(t[4]=c=>e.form.latestText=c),type:"textarea",autosize:"",readonly:""},null,8,["modelValue"])]),_:1}),n(l,{label:"\u65B0\u7684\u7FFB\u8BD1\u5185\u5BB9\uFF1A",prop:"newText"},{default:i(()=>[n(s,{modelValue:e.form.newText,"onUpdate:modelValue":t[5]||(t[5]=c=>e.form.newText=c),type:"textarea",autosize:"",placeholder:"\u8BF7\u8F93\u5165\u60A8\u6821\u51C6\u4E4B\u540E\u7684\u5185\u5BB9"},null,8,["modelValue"])]),_:1}),n(l,null,{default:i(()=>[n(m,{justify:"center"},{default:i(()=>[n(d,{span:12},{default:i(()=>[n(f,{type:"primary",onClick:e.submitForm},{default:i(()=>[ae]),_:1},8,["onClick"])]),_:1}),n(d,{span:12},{default:i(()=>[n(f,{type:"primary",onClick:e.getNextMsg},{default:i(()=>[se]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])])}var N=D(ue,[["render",le]]);const ie=A({components:{Home:N},name:"App",setup(){return{}}});function me(e,t,u,o,r,a){const m=J("home");return V(),G(m)}var de=D(ie,[["render",me]]);const ce=[{path:"/",redirect:"/home"},{path:"/home/:msgid",name:"Home",component:N}],fe=K({history:Q(),routes:ce}),S=W(de);S.use(fe);S.mount("#app");
