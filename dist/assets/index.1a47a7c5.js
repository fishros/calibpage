var j=Object.defineProperty;var F=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var T=(e,t,o)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,v=(e,t)=>{for(var o in t||(t={}))A.call(t,o)&&T(e,o,t[o]);if(F)for(var o of F(t))w.call(t,o)&&T(e,o,t[o]);return e};var h=(e,t)=>{var o={};for(var u in e)A.call(e,u)&&t.indexOf(u)<0&&(o[u]=e[u]);if(e!=null&&F)for(var u of F(e))t.indexOf(u)<0&&w.call(e,u)&&(o[u]=e[u]);return o};import{l as U,d as V,r as P,a as D,o as q,E as B,b as z,c as I,e as L,f as H,g as M,h as R,i as J,j as s,w as n,k as b,m as G,n as C,p as E,q as K,s as Q,t as W,u as X,v as Y}from"./vendor.bd79d6ad.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}};Z();const ee="/calib",_=async(e,u={})=>{var r=u,{data:t}=r,o=h(r,["data"]);const a=v({method:"GET"},o);return a.method.toUpperCase()==="GET"?(e+=`?${U.stringify(t)}`,console.log("endponit",e)):a.body=JSON.stringify(t||{}),window.fetch(`${ee}/${e}`,a).then(async d=>{const g=await d.json();return d.ok?g.data:Promise.reject(g)})},te=e=>{let t="";try{t=JSON.stringify(e)}catch(o){console.warn(o)}return t},ue=e=>{let t;try{t=JSON.parse(e)}catch(o){console.warn(o)}return t},x=(e,t)=>{window.localStorage.setItem(e,te(t))},N=e=>{const t=window.localStorage.getItem(e);return ue(t||"")},oe=()=>{var o;let e="",t="";return e=window.location.href,t=(o=e==null?void 0:e.split("?")[1])==null?void 0:o.split("=")[1],t};var S=(e,t)=>{const o=e.__vccOpts||e;for(const[u,r]of t)o[u]=r;return o};const se=V({name:"Home",setup(){let e,t=oe();const o=P(),u=D({username:"",github:"",originText:"",latestText:"",newText:"",email:""}),r=D({username:[{min:2,max:25,message:"\u6635\u79F0\u957F\u5EA6\u9700\u8981\u4E3A2\u523025\u4E4B\u95F4",trigger:"blur"}],github:[{required:!0,message:"github \u4E3B\u9875\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],newText:[{required:!0,message:"\u7FFB\u8BD1\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],email:[{required:!0,message:"",trigger:"blur"}]}),a=async()=>{if(t){const l=N("tw");await _("next_msg",{data:{msgid:t}}).then(i=>{if(u.originText=i[0].msgen,u.latestText=i[0].msgzh,u.newText=i[0].msgzh,t=i[0].msgid,l){const{name:c,github:f,email:m}=l;u.username=c,u.github=f,u.email=m}})}};return q(async()=>{const l=N("tw");t?await _("get_msg",{data:{msgid:t},method:"post"}).then(i=>{if(u.originText=i[0].msgen,u.latestText=i[0].msgzh,u.newText=i[0].msgzh,l){const{name:c,github:f,email:m}=l;u.username=c,u.github=f,u.email=m}}):B.info("\u8BF7\u4ECE Nav2 \u4E2D\u6587\u7F51\u9875\u9762\u8FDB\u5165")}),{form:u,submitForm:()=>{o.value.validate(l=>{if(l){const c={calibmsg:u.newText,msgid:t,name:u.username,github:u.github,email:u.email};_("calib_msg",{data:c,method:"POST"}).then(f=>{console.log(f,"submitForm"),b({message:"\u63D0\u4EA4\u6210\u529F\uFF0C\u68D2\u68D2\u54D2\uFF01",type:"success"});const p=c,{calibmsg:m,msgid:O}=p,y=h(p,["calibmsg","msgid"]);x("tw",y)}).catch(f=>{b.error(f)})}else B({title:"Error",message:"This is an error message",type:"error"})})},submitFormTitle:()=>{o.value.validate(l=>{if(l){const c={calibmsg:u.newText,msgid:t,name:u.username,github:u.github,email:u.email,status:200};_("calib_msg",{data:c,method:"POST"}).then(f=>{console.log(f,"submitForm"),b({message:"\u63D0\u4EA4\u6210\u529F\uFF0C\u68D2\u68D2\u54D2\uFF01",type:"success"});const p=c,{calibmsg:m,msgid:O}=p,y=h(p,["calibmsg","msgid"]);x("tw",y)}).catch(f=>{b.error(f)})}else B({title:"Error",message:"This is an error message",type:"error"})})},data:e,rules:r,getNextMsg:a,formRef:o}}}),re={class:"container"},ae=G("h2",{class:"title"}," \u5F00\u6E90\u4E92\u52A9 \u5171\u540C\u8FDB\u6B65 \u611F\u8C22\u60A8\u7684\u6821\u6B63 ",-1),ne=E("\u63D0\u4EA4"),le=E("\u4E0B\u4E00\u6761"),ie=E("\u6807\u8BB0\u6807\u9898\u5E76\u63D0\u4EA4");function me(e,t,o,u,r,a){const d=z,g=I,l=L,i=H,c=M,f=R;return C(),J("div",re,[ae,s(d),s(f,{ref:"formRef",model:e.form,"label-width":"auto",rules:e.rules},{default:n(()=>[s(d,{justify:"center",align:"center"},{default:n(()=>[s(i,{span:8},{default:n(()=>[s(l,{label:"\u6635\u79F0\uFF1A",prop:"username"},{default:n(()=>[s(g,{modelValue:e.form.username,"onUpdate:modelValue":t[0]||(t[0]=m=>e.form.username=m),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u6635\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),s(i,{span:8},{default:n(()=>[s(l,{label:"github\u4E3B\u9875\uFF1A",prop:"github"},{default:n(()=>[s(g,{modelValue:e.form.github,"onUpdate:modelValue":t[1]||(t[1]=m=>e.form.github=m),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684github\u4E3B\u9875\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1}),s(i,{span:8},{default:n(()=>[s(l,{label:"\u90AE\u7BB1\uFF1A",prop:"email"},{default:n(()=>[s(g,{modelValue:e.form.email,"onUpdate:modelValue":t[2]||(t[2]=m=>e.form.email=m),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),s(l,{label:"\u539F\u6587\u5185\u5BB9\uFF1A"},{default:n(()=>[s(g,{modelValue:e.form.originText,"onUpdate:modelValue":t[3]||(t[3]=m=>e.form.originText=m),type:"textarea",readonly:"",autosize:""},null,8,["modelValue"])]),_:1}),s(l,{label:"\u4E0A\u4E00\u7248\u672C\u7FFB\u8BD1\u5185\u5BB9\uFF1A"},{default:n(()=>[s(g,{modelValue:e.form.latestText,"onUpdate:modelValue":t[4]||(t[4]=m=>e.form.latestText=m),type:"textarea",autosize:"",readonly:""},null,8,["modelValue"])]),_:1}),s(l,{label:"\u65B0\u7684\u7FFB\u8BD1\u5185\u5BB9\uFF1A",prop:"newText"},{default:n(()=>[s(g,{modelValue:e.form.newText,"onUpdate:modelValue":t[5]||(t[5]=m=>e.form.newText=m),type:"textarea",autosize:"",placeholder:"\u8BF7\u8F93\u5165\u60A8\u6821\u51C6\u4E4B\u540E\u7684\u5185\u5BB9"},null,8,["modelValue"])]),_:1}),s(l,null,{default:n(()=>[s(d,{justify:"center"},{default:n(()=>[s(i,{span:8},{default:n(()=>[s(c,{type:"primary",onClick:e.submitForm},{default:n(()=>[ne]),_:1},8,["onClick"])]),_:1}),s(i,{span:8},{default:n(()=>[s(c,{type:"primary",onClick:e.getNextMsg},{default:n(()=>[le]),_:1},8,["onClick"])]),_:1}),s(i,{span:8},{default:n(()=>[s(c,{type:"primary",onClick:e.submitFormTitle},{default:n(()=>[ie]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])])}var $=S(se,[["render",me]]);const de=V({components:{Home:$},name:"App",setup(){return{}}});function ce(e,t,o,u,r,a){const d=K("home");return C(),Q(d)}var fe=S(de,[["render",ce]]);const ge=[{path:"/",redirect:"/home"},{path:"/home/:msgid",name:"Home",component:$}],pe=W({history:X(),routes:ge}),k=Y(fe);k.use(pe);k.mount("#app");
